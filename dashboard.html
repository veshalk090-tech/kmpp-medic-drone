<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KMPP MEDIC DRONE AERODROP - Student Medicine Delivery System</title>
    <meta name="description" content="KMPP MEDIC DRONE AERODROP: Student medicine delivery system">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #e8f5f5 0%, #f0f8ff 100%); }
        
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
        
        /* Header */
        header {
            background: linear-gradient(135deg, #00a86b 0%, #00d686 50%, #008c6e 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .logos-container {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .logo-box {
            background: rgba(255,255,255,0.2);
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 20px;
        }
        
        header h1 { font-size: 32px; margin-bottom: 10px; }
        header p { font-size: 14px; opacity: 0.9; }
        
        /* Navigation Tabs */
        .nav-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .nav-tabs button {
            padding: 10px 20px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .nav-tabs button.active {
            background: #00a86b;
            color: white;
            border-color: #00a86b;
        }
        
        .nav-tabs button:hover {
            border-color: #00a86b;
        }
        
        /* Sections */
        .section { display: none; }
        .section.active { display: block; }
        
        /* Cards Grid */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .card h3 { color: #00a86b; margin-bottom: 15px; }
        .card p { color: #666; margin: 8px 0; font-size: 14px; }
        
        /* Stat Cards */
        .stat-card {
            background: linear-gradient(135deg, #00a86b 0%, #00d686 100%);
            color: white;
            text-align: center;
        }
        
        .stat-card h2 { font-size: 32px; margin: 10px 0; }
        .stat-card p { opacity: 0.9; }
        
        /* Forms */
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #333;
        }
        
        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            font-family: inherit;
        }
        
        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #00a86b;
            box-shadow: 0 0 0 3px rgba(0, 168, 107, 0.1);
        }
        
        /* Buttons */
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background: #00a86b;
            color: white;
        }
        
        .btn-primary:hover {
            background: #008c6e;
        }
        
        .btn-success {
            background: #48bb78;
            color: white;
        }
        
        .btn-danger {
            background: #f56565;
            color: white;
        }
        
        .btn-sm {
            padding: 6px 12px;
            font-size: 12px;
        }
        
        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        table th {
            background: #f8f9fa;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            color: #333;
            border-bottom: 2px solid #e9ecef;
        }
        
        table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e9ecef;
        }
        
        table tr:hover {
            background: #f8f9fa;
        }
        
        /* Status Badges */
        .badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .badge-new { background: #e3f2fd; color: #1976d2; }
        .badge-approved { background: #f3e5f5; color: #7b1fa2; }
        .badge-sent { background: #fff3e0; color: #f57f17; }
        .badge-delivered { background: #e8f5e9; color: #388e3c; }
        .badge-available { background: #e8f5e9; color: #388e3c; }
        .badge-delivering { background: #fff3e0; color: #f57f17; }
        .badge-charging { background: #f3e5f5; color: #7b1fa2; }

        /* Modal Styles */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-box {
            background: white;
            border-radius: 10px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #f0f0f0;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .modal-close:hover {
            background: #667eea;
            color: white;
        }

        .medicine-detail-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .medicine-detail-row .label {
            font-weight: 600;
            color: #333;
        }

        .medicine-detail-row span:last-child {
            color: #667eea;
            font-weight: 500;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
        }
        
        .modal.active { display: flex; }
        .modal { align-items: center; justify-content: center; }
        
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 10px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #999;
        }
        
        /* Timeline */
        .timeline {
            position: relative;
            padding: 20px 0;
        }
        
        .timeline-item {
            display: flex;
            margin-bottom: 20px;
        }
        
        .timeline-dot {
            width: 20px;
            height: 20px;
            background: #667eea;
            border-radius: 50%;
            margin-top: 5px;
            margin-right: 20px;
            flex-shrink: 0;
        }
        
        .timeline-content {
            flex: 1;
        }
        
        .timeline-content h4 { margin-bottom: 5px; }
        .timeline-content p { color: #999; font-size: 12px; }
        
        /* Responsive */
        @media (max-width: 768px) {
            .grid { grid-template-columns: 1fr; }
            header h1 { font-size: 24px; }
            .nav-tabs { flex-direction: column; }
            .nav-tabs button { width: 100%; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="header-top">
                <h1>üöÅ AeroDrop</h1>
                <div class="logos-container">
                    <div class="logo-box" title="Malaysia Madani">üá≤üáæ</div>
                    <div class="logo-box" title="KMPP">üéì</div>
                </div>
            </div>
            <p>Fast & Reliable Medicine Delivery via Drone to Your Hostel | KMPP Pulau Pinang</p>
        </header>

        <!-- Navigation -->
        <div class="nav-tabs">
            <button class="active" onclick="switchTab('dashboard')">üìä Dashboard</button>
            <button onclick="switchTab('register')">üìù Register</button>
            <button onclick="switchTab('order')">üì¶ Order Medicine</button>
            <button onclick="switchTab('track')">üìç Track Order</button>
            <button onclick="switchTab('clinic')">üè• Clinic Info</button>
            <button onclick="switchTab('emergency')">üö® Emergency</button>
            <button onclick="switchTab('staff')">üë®‚Äç‚öïÔ∏è Staff Portal</button>
        </div>

        <!-- DASHBOARD -->
        <div id="dashboard" class="section active">
            <h2>üìä Dashboard</h2>
            <div class="grid">
                <div class="card stat-card">
                    <p>Total Orders Today</p>
                    <h2 id="ordersToday">0</h2>
                </div>
                <div class="card stat-card">
                    <p>Pending Approvals</p>
                    <h2 id="pendingOrders">0</h2>
                </div>
                <div class="card stat-card">
                    <p>Delivered Today</p>
                    <h2 id="deliveredToday">0</h2>
                </div>
                <div class="card stat-card">
                    <p>Active Drones</p>
                    <h2 id="activeDrones">0</h2>
                </div>
            </div>

            <h3 style="margin-top: 30px;">üõ©Ô∏è Drone Fleet Status</h3>
            <table id="droneTable">
                <thead>
                    <tr>
                        <th>Drone ID</th>
                        <th>Status</th>
                        <th>Battery</th>
                        <th>Capacity</th>
                        <th>Total Deliveries</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <!-- REGISTER STUDENT -->
        <div id="register" class="section">
            <div class="card" style="max-width: 600px;">
                <h3>üìù Register as Student</h3>
                <form id="registerForm" onsubmit="registerStudent(event)">
                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" id="fullName" required>
                    </div>
                    <div class="form-group">
                        <label>Student ID</label>
                        <input type="text" id="studentId" placeholder="e.g., A123456" required>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="email" required>
                    </div>
                    <div class="form-group">
                        <label>Phone Number</label>
                        <input type="tel" id="phone" required>
                    </div>
                    <div class="form-group">
                        <label>Hostel Address</label>
                        <textarea id="hostelAddress" rows="3" required></textarea>
                    </div>
                    <div class="form-group">
                        <label>Emergency Contact Name</label>
                        <input type="text" id="emergencyName" required>
                    </div>
                    <div class="form-group">
                        <label>Emergency Contact Phone</label>
                        <input type="tel" id="emergencyPhone" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Register</button>
                </form>
            </div>
        </div>

        <!-- ORDER MEDICINE -->
        <div id="order" class="section">
            <div class="card" style="max-width: 600px;">
                <h3>üì¶ Order Medicine</h3>
                <form id="orderForm" onsubmit="placeOrder(event)">
                    <div class="form-group">
                        <label>Student ID</label>
                        <input type="text" id="orderStudentId" required>
                    </div>
                    <div class="form-group">
                        <label>Select Medicine</label>
                        <select id="medicineSelect" required>
                            <option value="">Choose a medicine...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Quantity</label>
                        <input type="number" id="quantity" value="1" min="1" required>
                    </div>
                    <div class="form-group">
                        <label>Urgency</label>
                        <select id="urgency" required>
                            <option value="normal">Normal (15-20 mins)</option>
                            <option value="urgent">Urgent (10-15 mins)</option>
                            <option value="emergency">Emergency (5-10 mins)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Notes / Symptoms</label>
                        <textarea id="notes" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Upload Prescription (if needed)</label>
                        <input type="file" id="prescription" accept=".pdf,.jpg,.png">
                    </div>
                    <button type="submit" class="btn btn-primary">Place Order</button>
                </form>
            </div>
        </div>

        <!-- TRACK ORDER -->
        <div id="track" class="section">
            <div class="card" style="max-width: 600px;">
                <h3>üìç Track Your Order</h3>
                <div class="form-group">
                    <label>Order ID</label>
                    <input type="text" id="trackOrderId" placeholder="e.g., SKY-ABC12345">
                    <button class="btn btn-primary" style="margin-top: 10px;" onclick="trackOrder()">Search</button>
                </div>
                <div id="trackingDetails"></div>
            </div>
        </div>

        <!-- CLINIC INFO -->
        <div id="clinic" class="section">
            <h2>üè• Campus Medical Center</h2>
            <div class="grid">
                <div class="card">
                    <h3>üìç Location</h3>
                    <p>Main Campus Building 1</p>
                    <p>üìû +1111111111</p>
                    <p>üìß clinic@university.edu</p>
                </div>
                <div class="card">
                    <h3>‚è∞ Operating Hours</h3>
                    <p>08:00 AM - 08:00 PM</p>
                    <p>Monday - Sunday</p>
                </div>
            </div>

            <h3>üíä Available Medicines</h3>
            <table id="medicineTable">
                <thead>
                    <tr>
                        <th>Medicine Name</th>
                        <th>Dosage</th>
                        <th>Stock</th>
                        <th>Max Dosage</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <!-- EMERGENCY CONTACTS -->
        <div id="emergency" class="section">
            <div style="background: #fee; border-left: 4px solid #f44; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
                <h2 style="color: #c33; margin-bottom: 10px;">üö® EMERGENCY CONTACTS</h2>
                <p style="color: #c33; font-weight: bold;">IN CASE OF EMERGENCY, CALL IMMEDIATELY!</p>
                <p>Contact JPP (Student Association) or Campus Security for immediate assistance</p>
            </div>

            <h3 style="margin-top: 20px; color: #667eea;">üë• JPP (Jalinan Perpaduan Pelajar) - Student Association</h3>
            <div id="jppContacts" class="grid"></div>

            <h3 style="margin-top: 30px; color: #667eea;">üè• Clinic Emergency Contacts</h3>
            <div id="clinicEmergency" class="grid"></div>

            <h3 style="margin-top: 30px; color: #667eea;">üîí Campus Security</h3>
            <div id="securityContacts" class="grid"></div>

            <h3 style="margin-top: 30px; color: #667eea;">üöë External Emergency Services</h3>
            <div id="emergencyServices" class="grid"></div>

            <h3 style="margin-top: 30px; color: #667eea;">üè¢ Administrative Contacts</h3>
            <div id="adminContacts" class="grid"></div>
        </div>

        <!-- STAFF PORTAL -->
        <div id="staff" class="section">
            <!-- Staff Login Form (shown by default) -->
            <div id="staffLoginSection">
                <div class="card" style="max-width: 500px; margin: 0 auto;">
                    <h3>üë®‚Äç‚öïÔ∏è Staff Portal - Login</h3>
                    <p style="color: #999; margin-bottom: 20px;">Enter your staff credentials to access order management</p>
                    <form id="staffLoginForm" onsubmit="handleStaffLogin(event)">
                        <div class="form-group">
                            <label>Username</label>
                            <input type="text" id="staffUsername" placeholder="e.g., nurse.siti" required>
                        </div>
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" id="staffPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Login to Dashboard</button>
                        <div style="text-align: center; margin-top: 15px; padding-top: 15px; border-top: 1px solid #eee;">
                            <p style="font-size: 12px; color: #999;">Demo: nurse.siti / password123</p>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Staff Dashboard (shown after login) -->
            <div id="staffDashboardSection" style="display: none;">
                <!-- Header with logout -->
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                    <div>
                        <h3>üìã Order Management Dashboard</h3>
                        <p style="color: #999; font-size: 14px;">Logged in as: <strong id="staffNameDisplay"></strong> (<span id="staffRoleDisplay"></span>)</p>
                    </div>
                    <button class="btn btn-danger" onclick="handleStaffLogout()">Logout</button>
                </div>

                <!-- Quick Stats -->
                <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); margin-bottom: 30px;">
                    <div class="card stat-card">
                        <p>Pending Orders</p>
                        <h2 id="statPending">0</h2>
                        <p style="font-size: 12px; margin-top: 5px;">Awaiting approval</p>
                    </div>
                    <div class="card stat-card">
                        <p>Approved Orders</p>
                        <h2 id="statApproved">0</h2>
                        <p style="font-size: 12px; margin-top: 5px;">Ready for dispatch</p>
                    </div>
                    <div class="card stat-card">
                        <p>In Transit</p>
                        <h2 id="statInTransit">0</h2>
                        <p style="font-size: 12px; margin-top: 5px;">Currently delivering</p>
                    </div>
                    <div class="card stat-card">
                        <p>Delivered Today</p>
                        <h2 id="statDelivered">0</h2>
                        <p style="font-size: 12px; margin-top: 5px;">Completed deliveries</p>
                    </div>
                </div>

                <!-- Order Filters -->
                <div style="display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap;">
                    <button class="btn" id="filterAll" style="background: #00a86b; color: white;" onclick="filterOrders('all')">All Orders</button>
                    <button class="btn" style="background: #e3f2fd; color: #1976d2;" onclick="filterOrders('new')">üÜï New</button>
                    <button class="btn" style="background: #f3e5f5; color: #7b1fa2;" onclick="filterOrders('approved')">‚úÖ Approved</button>
                    <button class="btn" style="background: #fff3e0; color: #f57f17;" onclick="filterOrders('sent')">üöÅ In Transit</button>
                    <button class="btn" style="background: #e8f5e9; color: #388e3c;" onclick="filterOrders('delivered')">‚úîÔ∏è Delivered</button>
                </div>

                <!-- Orders Table -->
                <div style="background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <table id="staffOrdersTable">
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Student Name</th>
                                <th>Items</th>
                                <th>Total</th>
                                <th>Status</th>
                                <th>Urgency</th>
                                <th>Time</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="ordersTableBody">
                            <tr>
                                <td colspan="8" style="text-align: center; padding: 30px; color: #999;">Loading orders...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- ORDER DETAILS MODAL FOR STAFF -->
        <div id="orderDetailsModal" class="modal-overlay">
            <div class="modal-box" style="max-width: 700px;">
                <button class="modal-close" onclick="closeOrderModal()">‚úï</button>
                <h2>üì¶ Order Details</h2>
                
                <!-- Order Info Section -->
                <div style="background: #f9f9f9; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div>
                            <p style="color: #999; font-size: 12px; margin-bottom: 3px;">Order ID</p>
                            <p style="font-weight: 600; font-size: 16px;" id="modalOrderId"></p>
                        </div>
                        <div>
                            <p style="color: #999; font-size: 12px; margin-bottom: 3px;">Status</p>
                            <p id="modalOrderStatus" style="font-weight: 600;"></p>
                        </div>
                        <div>
                            <p style="color: #999; font-size: 12px; margin-bottom: 3px;">Student</p>
                            <p id="modalStudentName" style="font-weight: 600;"></p>
                        </div>
                        <div>
                            <p style="color: #999; font-size: 12px; margin-bottom: 3px;">Urgency</p>
                            <p id="modalUrgency" style="font-weight: 600;"></p>
                        </div>
                        <div>
                            <p style="color: #999; font-size: 12px; margin-bottom: 3px;">Time Placed</p>
                            <p id="modalTimeCreated" style="font-weight: 600; font-size: 14px;"></p>
                        </div>
                        <div>
                            <p style="color: #999; font-size: 12px; margin-bottom: 3px;">Delivery Location</p>
                            <p id="modalDeliveryLocation" style="font-weight: 600;"></p>
                        </div>
                    </div>
                </div>

                <!-- Medicines List -->
                <h4 style="margin-top: 20px; margin-bottom: 10px;">üíä Medicines Ordered</h4>
                <table style="width: 100%; border-collapse: collapse;">
                    <thead>
                        <tr style="background: #f5f5f5;">
                            <th style="padding: 8px; text-align: left; border-bottom: 1px solid #ddd;">Medicine</th>
                            <th style="padding: 8px; text-align: center; border-bottom: 1px solid #ddd;">Qty</th>
                            <th style="padding: 8px; text-align: right; border-bottom: 1px solid #ddd;">Price</th>
                        </tr>
                    </thead>
                    <tbody id="modalMedicinesList"></tbody>
                </table>

                <div style="border-top: 2px solid #eee; margin-top: 15px; padding-top: 15px; display: flex; justify-content: space-between;">
                    <span style="font-weight: 600;">Total Amount:</span>
                    <span style="font-weight: 600; color: #00a86b; font-size: 18px;" id="modalTotalPrice">RM 0.00</span>
                </div>

                <!-- Student Contact Info -->
                <h4 style="margin-top: 20px; margin-bottom: 10px;">üë§ Student Contact Information</h4>
                <div style="background: #f9f9f9; padding: 12px; border-radius: 6px; font-size: 14px;">
                    <p><strong>Email:</strong> <span id="modalStudentEmail"></span></p>
                    <p><strong>Phone:</strong> <span id="modalStudentPhone"></span></p>
                    <p><strong>Student ID:</strong> <span id="modalStudentId"></span></p>
                </div>

                <!-- Special Notes -->
                <h4 style="margin-top: 20px; margin-bottom: 10px;">üìù Special Notes/Instructions</h4>
                <div style="background: #fffacd; padding: 12px; border-left: 4px solid #ffd700; border-radius: 4px;">
                    <p id="modalNotes" style="color: #333; margin: 0;">No special notes provided</p>
                </div>

                <!-- Action Buttons -->
                <div style="display: flex; gap: 10px; margin-top: 25px; justify-content: space-between;">
                    <div>
                        <button class="btn btn-danger" id="rejectBtn" onclick="rejectOrder()" style="display: none;">‚ùå Reject Order</button>
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn" style="background: #999; color: white;" onclick="closeOrderModal()">Close</button>
                        <button class="btn btn-success" id="approveBtn" onclick="approveOrder()" style="display: none;">‚úÖ Approve Order</button>
                        <button class="btn" id="assignDroneBtn" style="background: #f57f17; color: white; display: none;" onclick="showDroneAssignment()">üöÅ Assign Drone</button>
                    </div>
                </div>

                <!-- Drone Assignment UI (shown when needed) -->
                <div id="droneAssignmentUI" style="display: none; margin-top: 20px; padding-top: 20px; border-top: 2px solid #eee;">
                    <h4>Assign Drone to Order</h4>
                    <div class="form-group">
                        <label>Available Drones</label>
                        <select id="droneSelect" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                            <option value="">Loading drones...</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" onclick="confirmDroneAssignment()">Assign & Dispatch</button>
                </div>
            </div>
        </div>

        <!-- MEDICINE DETAILS MODAL -->
        <div id="medicineModal" class="modal-overlay">
            <div class="modal-box">
                <button class="modal-close" onclick="closeMedicineModal()">‚úï</button>
                <h2 id="modalMedicineName"></h2>
                <div class="modal-content">
                    <div class="medicine-detail-row">
                        <span class="label">Dosage:</span>
                        <span id="modalDosage"></span>
                    </div>
                    <div class="medicine-detail-row">
                        <span class="label">Category:</span>
                        <span id="modalCategory"></span>
                    </div>
                    <div class="medicine-detail-row">
                        <span class="label">Stock Available:</span>
                        <span id="modalStock"></span>
                    </div>
                    <div class="medicine-detail-row">
                        <span class="label">Expiry Date:</span>
                        <span id="modalExpiry"></span>
                    </div>
                    <div class="medicine-detail-row">
                        <span class="label">Max Dosage:</span>
                        <span id="modalMaxDosage"></span>
                    </div>
                    <hr>
                    <h3 style="margin-top: 15px; color: #667eea;">üìñ About This Medicine</h3>
                    <p id="modalExplanation" style="line-height: 1.6; color: #555; margin-top: 10px;"></p>
                    <hr>
                    <h3 style="margin-top: 15px; color: #667eea;">‚ö†Ô∏è Special Instructions</h3>
                    <p id="modalInstructions" style="line-height: 1.6; color: #555; margin-top: 10px;"></p>
                </div>
            </div>
        </div>
    </div>

    <script src="dashboard.js"></script>
</body>
</html>
